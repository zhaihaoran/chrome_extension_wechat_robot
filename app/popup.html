<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>微信机器人</title>
    <link rel="stylesheet" href="./bulma.min.css">
    <link rel="stylesheet" type="text/css" href="popup.css">
</head>

<body>

    <div id="app">
        <div class="login_box">

            <div class="qrcode" v-show="page == 'scan' ">
                <div class="qrcode-img">
                    <img class="img" class="img">
                </div>

                <div class="">
                    <p class="sub_title">使用手机微信扫码登录</p>
                </div>
            </div>

            <div class="avatar" v-show="page == 'confirm'">
                <img class="img" mm-src="" alt="" src="https://res.wx.qq.com/a/wx_fed/webwx/res/static/img/2KriyDK.png">
                <h4 class="sub_title">扫描成功</h4>
                <p class="tips">请在手机上点击确认以登录</p>
                <a href="javascript:;" ng-click="isScan = false;" class="action">切换帐号</a>
            </div>
        </div>
        
        <div class="contact_list" v-show="page == 'contacts'">
            <div v-if="groups.length">
                <div class="field-wrapper">
                    <div class="field">
                        <label class="label">群发内容</label>
                        <div class="control">
                            <textarea class="textarea is-primary" v-on:keyup="keyupHandler" id="send-message" v-bind:value="send_message" placeholder="请输入..."></textarea>
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">发言间隔</label>
                        <div class="control">
                            <input type="text" class="input" placeholder="发言间隔(s)" id="auto-send-time-span" v-on:keyup="keyupHandler" type="text" v-bind:value="auto_send_time_span" />
                        </div>
                    </div>
                    <p>已经在{{quan_count}}个群中群发，共计{{sended_quan_count}}位用户</p>
                </div>
                <div class="ng-scope">
                    <h4 class="contact_title ng-scope">微信群</h4>
                </div>
                <div v-for="contact in groups" class="ng-scope">
                    <div class="chat_item slide-left ng-scope">
                        <div class="avatar">
                            <img class="img lazy" v-bind:src="'https://wx.qq.com'+contact.HeadImgUrl" alt="">
                        </div>
                        <div class="info">
                            <h3 class="nickname">
                                <label><span class="nickname_text">{{contact.NickName}}<input v-on:click="clickHandler" class="checkbox" v-bind:value="contact.NickName"  type="checkbox" v-bind:checked="contact.Checked"/></span></label>
                            </h3>
                        </div>

                    </div>
                </div>
                <div class="field-wrapper">
                    <div class="field field-group">
                        <button style="margin-right:5px" class="button is-primary" id="btn-logout" v-on:click="clickHandler">注销登录</button>
                        <button style="margin-left:5px" class="button is-link" id="auto-send" v-on:click="clickHandler">{{auto_send_text}}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/popup.js"></script>

</body>

</html>